---
import DownloadFileIcon from '../icons/DownloadFileIcon.astro';
import GithubIcon from '../icons/GithubIcon.astro';
import LinkedinIcon from '../icons/LinkedinIcon.astro';
import ScrollIcon from '../icons/ScrollIcon.astro';
import Stars from './Stars.astro';
---

<section
  class='overflow-hidden relative flex flex-col gap-20 justify-center md:flex-row md:gap-0 md:justify-between h-screen items-center px-0 md:px-16 lg:px-32 xl:px-48 min-[1680px]:px-80'
>
  <div class='flex flex-col items-center md:items-start text-white'>
    <h1 class='font-playfair text-5xl lg:text-6xl 2xl:text-7xl mb-2 md:mb-3 text-center'>
      Aitor Gallardo
    </h1>
    <h4
      class='font-quattrocento text-3xl lg:text-4xl 2xl:text-5xl mb-4 md:mb-[56px] text-bg-gradient-blue_green'
    >
      Web Developer
    </h4>
    <div class='flex gap-4 items-center'>
      <a
        class='h-[28px] w-[28px]'
        href='https://github.com/AitorGallardo'
        target='_blank'
      >
        <GithubIcon />
      </a>
      <a
        class='h-[28px] w-[28px]'
        href='https://www.linkedin.com/in/aitor-gallardo-mu%C3%B1oz-a03b061a3/'
        target='_blank'
      >
        <LinkedinIcon />
      </a>
      <a href="documents/CV_AitorGallardo_ENG.pdf" download="Aitor_Gallardo_CV.pdf" class="inline-flex gap-1 items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
        Download CV
        <DownloadFileIcon width="18" height="18"/>
    </a>
    </div>
  </div>
  <img
    id='me-img'
    class='aspect-[484/455] drop-shadow-2xl h-[250px] lg:max-xl:h-[300px] xl:max-2xl:h-[400px] 2xl:h-[450px]'
    src='images/me-img.png'
    alt='Aitor Gallardo'
  />
  <ScrollIcon />
  <Stars />
</section>

<style>
  #me-img {
    transition: box-shadow 0.1s, transform 0.1s;
  }
  #me-img:hover {
    box-shadow: 0ps 0px 50px rgba(0, 0, 0, 1);
  }
</style>

<script>
  const image = document.querySelector('#me-img') as HTMLElement;
  const height = image.clientHeight;
  const width = image.clientWidth;

  image.addEventListener('mousemove', (e) => {
    const { layerX, layerY } = e;

    const yRotation = ((layerX - width / 2) / width) * 20;
    const xRotation = ((layerY - height / 2) / height) * 20;

    const string = `perspective(500px) scale(1.1) rotateX(${xRotation}deg) rotateY(${yRotation}deg)`;
    image.style.transform = string;
  });

  image.addEventListener('mouseout', () => {
    image.style.transform = 'perspective(500px) scale(1) rotateX(0) rotateY(0)';
  });
</script>
